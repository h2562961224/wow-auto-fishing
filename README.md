# WoW 自动钓鱼工具

一个用于魔兽世界的自动钓鱼辅助工具，通过检测系统音频来自动执行收杆操作。

## 功能特点

- **声音检测**: 自动检测鱼上钩的声音，触发收杆
- **自动流程**: 自动执行抛竿、等待、收杆的循环
- **定时上饵**: 支持每隔一段时间自动执行上饵动作
- **随机延迟**: 所有操作都有随机延迟，模拟人类操作
- **可配置**: 支持自定义快捷键、延迟时间、灵敏度等参数
- **图形界面**: 提供友好的 GUI 界面

## 系统要求

- Windows 10/11
- Python 3.10+
- 需要启用 Windows 立体声混音（Stereo Mix）或其他音频回环设备

## 安装

1. 克隆或下载本项目

2. 安装依赖：
```bash
pip install -r requirements.txt
```

3. 运行程序：
```bash
python main.py
```

## 使用说明

### 前置准备

1. **启用立体声混音**:
   - 右键点击任务栏音量图标 → 声音设置
   - 找到"立体声混音"设备，启用并设为默认设备
   - 如果没有立体声混音，可能需要在声卡设置中启用

2. **游戏内设置**:
   - 确保游戏内声音已开启
   - 建议关闭背景音乐，只保留音效
   - 设置好交互键（默认 F 键）

3. **准备宏**:
   - 前置动作宏（上饵等）
   - 钓鱼宏

### 快捷键设置

| 设置项 | 默认值 | 说明 |
|--------|--------|------|
| 前置动作键 | 1 | 执行上饵等前置动作的快捷键 |
| 钓鱼键 | 2 | 执行钓鱼（抛竿）的快捷键 |
| 交互键 | F | 收杆/拾取的交互键 |

### 参数说明

| 参数 | 默认值 | 说明 |
|------|--------|------|
| 声音灵敏度 | 50% | 越高越容易触发，建议先校准 |
| 上饵间隔 | 15 分钟 | 鱼饵持续时间 |
| 超时时间 | 20 秒 | 超过此时间未检测到声音则重新抛竿 |
| 收杆延迟 | 200-600ms | 检测到声音后的随机延迟 |
| 抛竿延迟 | 500-1500ms | 收杆后到下次抛竿的随机延迟 |

### 使用步骤

1. 启动程序
2. 根据需要调整快捷键和参数
3. 点击"校准"按钮校准声音（保持安静环境）
4. 切换到游戏窗口
5. 点击"开始钓鱼"
6. 程序会自动执行钓鱼流程

## 项目结构

```
wow-auto-fishing/
├── main.py                 # 程序入口
├── requirements.txt        # 依赖列表
├── config.json            # 用户配置（运行后生成）
├── src/
│   ├── gui/
│   │   └── main_window.py  # 图形界面
│   ├── core/
│   │   ├── fishing_bot.py  # 钓鱼核心逻辑
│   │   ├── sound_detector.py # 声音检测
│   │   └── key_sender.py   # 按键发送
│   └── utils/
│       └── config.py       # 配置管理
└── README.md
```

## 注意事项

- 本工具仅供学习和研究使用
- 使用第三方工具可能违反游戏服务条款，请自行承担风险
- 建议在非高峰时段使用，避免长时间挂机
- 请确保系统音频设备配置正确

## 故障排除

### 声音检测不工作

1. 检查是否启用了立体声混音
2. 尝试点击"校准"按钮
3. 调高声音灵敏度
4. 确保游戏声音已开启

### 按键没有反应

1. 确保游戏窗口在前台
2. 检查快捷键设置是否正确
3. 尝试以管理员身份运行程序

## 许可证

MIT License
